window.onload=()=>{const e=document.querySelectorAll(".filterLink"),t=document.querySelector("body"),c=document.querySelector("main"),r=document.querySelector(".close"),l=document.querySelectorAll(".grid-item"),o="show-detail",n=document.querySelector('.themeSwitcher input[type="checkbox"]');let a=localStorage.getItem("theme");window.addEventListener("scroll",(()=>{let e,t=document.querySelectorAll("nav li a"),c=window.scrollY;var r,l;r=()=>{t.forEach((e=>{let t=document.querySelector(e.hash);t.offsetTop<c+60&&t.offsetTop+t.offsetHeight>c+60?e.classList.add("current"):e.classList.remove("current")}))},l=100,e||(e=!0,setTimeout((()=>{r(),e=!1}),l))})),e.forEach((t=>{t.addEventListener("click",(t=>{let c=t.target;e.forEach((e=>e.classList.remove("selected"))),c.classList.toggle("selected")}))})),l.forEach((e=>{let l=e.querySelector(".gridItemLink"),n=e.querySelector(".details").innerHTML,a=document.querySelector(".aside-details");l.addEventListener("click",(()=>{a.innerHTML=n,t.classList.add(o)})),c.addEventListener("click",(e=>{e.target.matches(".thumbnail")||t.classList.remove(o)})),r.addEventListener("click",(()=>{t.classList.remove(o)}))})),a&&(document.documentElement.setAttribute("data-theme",a),"dark"===a&&(n.checked=!0)),n.addEventListener("change",(function(e){e.target.checked?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))}),!1),document.querySelector(".year").innerHTML=(new Date).getFullYear()};